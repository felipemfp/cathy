{"version":3,"sources":["scripts/app.js"],"names":["angular","module","userService","$http","$log","catherineAPI","authenticationService","register","name","username","password","callback","registerComplete","response","status","login","registerFailed","error","toJson","data","post","apiHost","then","service","$inject","factory","personService","$rootScope","add","addComplete","addFailed","globals","currentUser","get","id","getComplete","getFailed","remove","removeComplete","removeFailed","update","person","updateComplete","updateFailed","put","addPerson","updatePerson","removePerson","getPeople","cathyNavbar","NavbarController","$location","signOut","clearToken","path","navbar","this","directive","restrict","templateUrl","controller","controllerAs","bindToController","categoryService","icon","category","addCategory","updateCategory","removeCategory","getCategories","$cookies","$window","loginComplete","token","setToken","loginFailed","payload","parseJwt","defaults","headers","common","Authorization","putObject","base64Url","split","base64","replace","fromJson","atob","MainController","$mdToast","signUp","vm","show","simple","textContent","hideDelay","signIn","DashboardController","$mdDialog","$document","newCategory","dataFetched","categories","newPerson","people","showCategoryDialog","CategoryDialogController","parent","element","body","clickOutsideToClose","locals","updateName","category_id","confirm","title","ariaLabel","ok","cancel","hide","showPersonDialog","PersonDialogController","person_id","currentName","runBlock","getObject","Math","round","Date","getTime","exp","$on","event","next","current","restrictedPage","loggedIn","debug","run","routeConfig","$routeProvider","when","otherwise","redirectTo","config","$logProvider","$mdThemingProvider","$locationProvider","cfpLoadingBarProvider","debugEnabled","theme","primaryPalette","accentPalette","includeSpinner","$templateCache"],"mappings":"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","file":"scripts/app-9697da1ee0.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('cathy', ['ngCookies', 'ngRoute', 'ngMaterial',\n      'ngMessages', 'angular-loading-bar', 'ngAnimate'\n    ]);\n\n})();\n\n(function() {\n  'use_strict';\n\n  angular\n    .module('cathy')\n    .factory('userService', userService);\n\n  /** @ngInject */\n  function userService($http, $log, catherineAPI, authenticationService) {\n    var apiHost = catherineAPI.apiHost;\n\n    var service = {\n      register: register\n    };\n\n    return service;\n\n    function register(name, username, password, callback) {\n      return $http.post(apiHost + '/api/users/', {\n        name: name,\n        username: username,\n        password: password\n      }).then(registerComplete).catch(registerFailed);\n\n      function registerComplete(response) {\n        if (response.status == 200) {\n          authenticationService.login(username, password, callback);\n        }\n        else {\n          callback(false);\n        }\n      }\n\n      function registerFailed(error) {\n        $log.error('XHR Failed for register.\\n' + angular.toJson(error.data, true));\n        callback(false);\n      }\n    }\n  }\n})();\n\n(function() {\n  'use_strict';\n\n  angular\n    .module('cathy')\n    .factory('personService', personService);\n\n  /** @ngInject */\n  function personService($rootScope, $http, $log, catherineAPI) {\n    var apiHost = catherineAPI.apiHost;\n\n    var service = {\n      addPerson: add,\n      updatePerson: update,\n      removePerson: remove,\n      getPeople: get\n    };\n\n    return service;\n\n    function add(name) {\n      return $http.post(apiHost + '/api/people/' + $rootScope.globals.currentUser.username + '/', {\n        name: name\n      }).then(addComplete).catch(addFailed);\n\n      function addComplete(response) {\n        return response.data;\n      }\n\n      function addFailed(error) {\n        $log.error('XHR Failed for add.\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function get(id) {\n      if (id) {\n        return $http.get(apiHost + '/api/people/' + $rootScope.globals.currentUser.username + '/' + id + '/')\n          .then(getComplete).catch(getFailed);\n      } else {\n        return $http.get(apiHost + '/api/people/' + $rootScope.globals.currentUser.username + '/')\n          .then(getComplete).catch(getFailed);\n      }\n\n      function getComplete(response) {\n        return response.data;\n      }\n\n      function getFailed(error) {\n        $log.error('XHR Failed for get.\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function remove(id) {\n      return $http.delete(apiHost + '/api/people/' + $rootScope.globals.currentUser.username + '/' + id + '/')\n        .then(removeComplete).catch(removeFailed);\n\n      function removeComplete(response) {\n        if (response.status == 200) {\n          return true;\n        }\n        else {\n          return false;\n        }\n      }\n\n      function removeFailed(error) {\n        $log.error('XHR Failed for remove.\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function update(id, person) {\n      return $http.put(apiHost + '/api/people/' + $rootScope.globals.currentUser.username + '/' + id + '/',\n          person)\n        .then(updateComplete).catch(updateFailed);\n\n      function updateComplete(response) {\n        return response.data;\n      }\n\n      function updateFailed(error) {\n        $log.error('XHR Failed for update.\\n' + angular.toJson(error.data, true));\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('cathy')\n    .directive('cathyNavbar', cathyNavbar);\n\n  /** @ngInject */\n  function cathyNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      controller: NavbarController,\n      controllerAs: 'navbar',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController($location, authenticationService) {\n      var navbar = this;\n\n      navbar.signOut = signOut;\n\n      function signOut() {\n        authenticationService.clearToken();\n        $location.path('/');\n      }\n    }\n  }\n\n})();\n\n(function() {\n  'use_strict';\n\n  angular\n    .module('cathy')\n    .factory('catherineAPI', catherineAPI);\n\n  /** @ngInject */\n  function catherineAPI() {\n    var apiHost = 'http://catherine-api.herokuapp.com';\n\n    var service = {\n      apiHost: apiHost\n    };\n\n    return service;\n  }\n})();\n\n(function() {\n  'use_strict';\n\n  angular\n    .module('cathy')\n    .factory('categoryService', categoryService);\n\n  /** @ngInject */\n  function categoryService($rootScope, $http, $log, catherineAPI) {\n    var apiHost = catherineAPI.apiHost;\n\n    var service = {\n      addCategory: add,\n      updateCategory: update,\n      removeCategory: remove,\n      getCategories: get\n    };\n\n    return service;\n\n    function add(name, icon) {\n      if (!icon) {\n        icon = 'label';\n      }\n\n      return $http.post(apiHost + '/api/categories/' + $rootScope.globals.currentUser.username + '/', {\n        name: name,\n        icon: icon\n      }).then(addComplete).catch(addFailed);\n\n      function addComplete(response) {\n        return response.data;\n      }\n\n      function addFailed(error) {\n        $log.error('XHR Failed for add.\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function get(id) {\n      if (id) {\n        return $http.get(apiHost + '/api/categories/' + $rootScope.globals.currentUser.username + '/' + id + '/')\n          .then(getComplete).catch(getFailed);\n      } else {\n        return $http.get(apiHost + '/api/categories/' + $rootScope.globals.currentUser.username + '/')\n          .then(getComplete).catch(getFailed);\n      }\n\n      function getComplete(response) {\n        return response.data;\n      }\n\n      function getFailed(error) {\n        $log.error('XHR Failed for get.\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function remove(id) {\n      return $http.delete(apiHost + '/api/categories/' + $rootScope.globals.currentUser.username + '/' + id + '/')\n        .then(removeComplete).catch(removeFailed);\n\n      function removeComplete(response) {\n        if (response.status == 200) {\n          return true;\n        }\n        else {\n          return false;\n        }\n      }\n\n      function removeFailed(error) {\n        $log.error('XHR Failed for remove.\\n' + angular.toJson(error.data, true));\n      }\n    }\n\n    function update(id, category) {\n      if (!category.icon) {\n        category.icon = 'label';\n      }\n\n      return $http.put(apiHost + '/api/categories/' + $rootScope.globals.currentUser.username + '/' + id + '/',\n          category)\n        .then(updateComplete).catch(updateFailed);\n\n      function updateComplete(response) {\n        return response.data;\n      }\n\n      function updateFailed(error) {\n        $log.error('XHR Failed for update.\\n' + angular.toJson(error.data, true));\n      }\n    }\n  }\n})();\n\n(function() {\n  'use_strict';\n\n  angular\n    .module('cathy')\n    .factory('authenticationService', authenticationService);\n\n  /** @ngInject */\n  function authenticationService($http, $log, $cookies, $rootScope, $window, catherineAPI) {\n    var apiHost = catherineAPI.apiHost;\n\n    var service = {\n      login: login,\n      setToken: setToken,\n      clearToken: clearToken,\n      parseJwt: parseJwt\n    };\n\n    return service;\n\n    function login(username, password, callback) {\n      return $http.post(apiHost + '/api/login/', {\n        username: username,\n        password: password\n      }).then(loginComplete).catch(loginFailed);\n\n      function loginComplete(response) {\n        var token = response.data.token;\n        setToken(token);\n        callback(true);\n      }\n\n      function loginFailed(error) {\n        $log.error('XHR Failed for login.\\n' + angular.toJson(error.data, true));\n        callback(false);\n      }\n    }\n\n    function setToken(token) {\n      var payload = parseJwt(token);\n      $rootScope.globals = {\n        currentUser: {\n          name: payload.name,\n          username: payload.username,\n          token: token\n        }\n      };\n      $http.defaults.headers.common.Authorization = 'Bearer ' + token;\n      $cookies.putObject('globals', $rootScope.globals);\n    }\n\n    function clearToken() {\n      $rootScope.globals = {};\n      $http.defaults.headers.common.Authorization = '';\n      $cookies.remove('globals');\n    }\n\n    function parseJwt(token) {\n      var base64Url = token.split('.')[1];\n      var base64 = base64Url.replace('-', '+').replace('_', '/');\n      return angular.fromJson($window.atob(base64));\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('cathy')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($log, $mdToast, $location, $rootScope, userService, authenticationService) {\n    var vm = this;\n\n    vm.register = {};\n\n    vm.signUp = signUp;\n    vm.signIn = signIn;\n\n    function signUp() {\n      var name = vm.register.name;\n      var username = vm.register.username;\n      var password = vm.register.password;\n      if (name && username && password) {\n        userService.register(name, username, password, function(response) {\n          if (response === true) {\n            $mdToast.show(\n              $mdToast.simple()\n              .textContent($rootScope.globals.currentUser.name + ' registered and logged.')\n              .hideDelay(3000)\n            );\n            $location.path('/dashboard');\n          } else {\n            $mdToast.show(\n              $mdToast.simple()\n              .textContent('Something is wrong!')\n              .hideDelay(3000)\n            );\n          }\n        });\n      } else {\n        $mdToast.show(\n          $mdToast.simple()\n          .textContent('Both name, username and password are required.')\n          .hideDelay(3000)\n        );\n      }\n    }\n\n    function signIn() {\n      var username = vm.username;\n      var password = vm.password;\n      if (username && password) {\n        authenticationService.login(username, password, function(response) {\n          if (response === true) {\n            $mdToast.show(\n              $mdToast.simple()\n              .textContent($rootScope.globals.currentUser.name + ' logged.')\n              .hideDelay(3000)\n            );\n            $location.path('/dashboard');\n          } else {\n            $mdToast.show(\n              $mdToast.simple()\n              .textContent('Username and password does not match.')\n              .hideDelay(3000)\n            );\n          }\n        });\n      } else {\n        $mdToast.show(\n          $mdToast.simple()\n          .textContent('Both username and password are required.')\n          .hideDelay(3000)\n        );\n      }\n    }\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('cathy')\n    .controller('DashboardController', DashboardController);\n\n  /** @ngInject */\n  function DashboardController($log, $mdToast, $mdDialog, $document, categoryService, personService) {\n    var vm = this;\n\n    vm.person = {\n      name: \"\"\n    };\n    vm.category = {\n      name: \"\",\n      icon: \"\"\n    };\n    vm.people = [];\n    vm.categories = [];\n    vm.newPerson = newPerson;\n    vm.newCategory = newCategory;\n    vm.showCategoryDialog = showCategoryDialog;\n    vm.showPersonDialog = showPersonDialog;\n\n    function newCategory() {\n      var name = vm.category.name;\n      var icon = vm.category.icon;\n      categoryService.addCategory(name, icon).then(function(dataFetched) {\n        if (dataFetched) {\n          vm.category = {\n            name: \"\",\n            icon: \"\"\n          };\n          getCategories();\n        } else {\n          $mdToast.show(\n            $mdToast.simple()\n            .textContent('Something is wrong!')\n            .hideDelay(3000)\n          );\n        }\n      });\n    }\n\n    function getCategories() {\n      categoryService.getCategories().then(function(dataFetched) {\n        if (dataFetched) {\n          vm.categories = dataFetched.categories;\n        } else {\n          $mdToast.show(\n            $mdToast.simple()\n            .textContent('Something is wrong!')\n            .hideDelay(3000)\n          );\n        }\n      });\n    }\n\n    function newPerson() {\n      var name = vm.person.name;\n      personService.addPerson(name).then(function(dataFetched) {\n        if (dataFetched) {\n          vm.person = {\n            name: \"\"\n          };\n          getPeople();\n        } else {\n          $mdToast.show(\n            $mdToast.simple()\n            .textContent('Something is wrong!')\n            .hideDelay(3000)\n          );\n        }\n      });\n    }\n\n    function getPeople() {\n      personService.getPeople().then(function(dataFetched) {\n        if (dataFetched) {\n          vm.people = dataFetched.people;\n        } else {\n          $mdToast.show(\n            $mdToast.simple()\n            .textContent('Something is wrong!')\n            .hideDelay(3000)\n          );\n        }\n      });\n    }\n\n    function showCategoryDialog(category) {\n      $mdDialog.show({\n          controller: CategoryDialogController,\n          controllerAs: 'categoryDialog',\n          templateUrl: 'app/dashboard/categorydialog.tmpl.html',\n          parent: angular.element($document.body),\n          clickOutsideToClose: true,\n          locals: {\n            category: category\n          }\n        })\n        .then(function(updateName) {\n          if (updateName) {\n            category.name = updateName;\n            categoryService.updateCategory(category.category_id, category);\n          } else {\n            var confirm = $mdDialog.confirm()\n              .title('Would you like to delete this category?')\n              .textContent('All of the transactions with \"' + category.name + '\" category will be removed too.')\n              .ariaLabel('Delete Category')\n              .ok('Yes, sure')\n              .cancel('Cancel');\n            $mdDialog.show(confirm).then(function() {\n              categoryService.removeCategory(category.category_id).then(function() {\n                $mdDialog.hide();\n                getCategories();\n              });\n            }, function() {\n              $mdDialog.cancel();\n            });\n          }\n        });\n    }\n\n    function showPersonDialog(person) {\n      $mdDialog.show({\n          controller: PersonDialogController,\n          controllerAs: 'personDialog',\n          templateUrl: 'app/dashboard/persondialog.tmpl.html',\n          parent: angular.element($document.body),\n          clickOutsideToClose: true,\n          locals: {\n            person: person\n          }\n        })\n        .then(function(updateName) {\n          if (updateName) {\n            person.name = updateName;\n            personService.updatePerson(person.person_id, person);\n          } else {\n            var confirm = $mdDialog.confirm()\n              .title('Would you like to delete this person?')\n              .textContent('All of the transactions with \"' + person.name + '\" person will be removed too.')\n              .ariaLabel('Delete Person')\n              .ok('Yes, sure')\n              .cancel('Cancel');\n            $mdDialog.show(confirm).then(function() {\n              personService.removePerson(person.person_id).then(function() {\n                $mdDialog.hide();\n                getPeople();\n              });\n            }, function() {\n              $mdDialog.cancel();\n            });\n          }\n        });\n    }\n\n    getPeople();\n    getCategories();\n  }\n\n  function CategoryDialogController($log, $mdDialog, category) {\n    var vm = this;\n\n    vm.currentName = category.name;\n    vm.updateName = category.name;\n\n    vm.cancel = function() {\n      $mdDialog.cancel();\n    };\n\n    vm.update = function() {\n      $mdDialog.hide(vm.updateName);\n    };\n\n    vm.remove = function() {\n      $mdDialog.hide();\n    };\n  }\n\n  function PersonDialogController($log, $mdDialog, person) {\n    var vm = this;\n\n    vm.currentName = person.name;\n    vm.updateName = person.name;\n\n    vm.cancel = function() {\n      $mdDialog.cancel();\n    };\n\n    vm.update = function() {\n      $mdDialog.hide(vm.updateName);\n    };\n\n    vm.remove = function() {\n      $mdDialog.hide();\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('cathy')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log, $rootScope, $location, $cookies, $http, authenticationService) {\n    $rootScope.globals = $cookies.getObject('globals') || {};\n\n    if ($rootScope.globals.currentUser) {\n      var token = $rootScope.globals.currentUser.token;\n      var payload = authenticationService.parseJwt(token);\n      if (Math.round(new Date().getTime() / 1000) <= payload.exp) {\n        $http.defaults.headers.common.Authorization = 'Bearer ' + token;\n      }\n    }\n\n    $rootScope.$on('$locationChangeStart', function(event, next, current) {\n      // redirect to login page if not logged in and trying to access a restricted page\n      var restrictedPage = $location.path() != '/';\n      var loggedIn = $rootScope.globals.currentUser;\n      if (restrictedPage && !loggedIn) {\n        $location.path('/');\n      }\n      else if ($location.path() == '/' && loggedIn) {\n        $location.path('/dashboard');\n      }\n    });\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('cathy')\n    .config(routeConfig);\n\n  function routeConfig($routeProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'ctrl'\n      })\n      .when('/dashboard', {\n        templateUrl: 'app/dashboard/dashboard.html',\n        controller: 'DashboardController',\n        controllerAs: 'ctrl'\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('cathy');\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('cathy')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, $mdThemingProvider, $locationProvider, cfpLoadingBarProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    $mdThemingProvider.theme('default')\n      .primaryPalette('purple')\n      .accentPalette('green');\n\n    // $locationProvider.html5Mode(true);\n    cfpLoadingBarProvider.includeSpinner = false;\n  }\n\n})();\n\nangular.module(\"cathy\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/dashboard/categorydialog.tmpl.html\",\"<md-dialog aria-label=\\\"Category name\\\"><md-dialog-content><div class=md-dialog-content><h2 class=md-title>What would you name this category?</h2><p>{{categoryDialog.currentName}} is the current name.</p><md-input-container><label>Name</label><input ng-model=categoryDialog.updateName type=text></md-input-container></div></md-dialog-content><md-dialog-actions><md-button ng-click=categoryDialog.update() class=md-primary>Update</md-button><md-button ng-click=categoryDialog.remove()>Remove</md-button><md-button ng-click=categoryDialog.cancel()>Cancel</md-button></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/dashboard/dashboard.html\",\"<cathy-navbar></cathy-navbar><main layout=row layout-padding layout-align=\\\"center start\\\"><md-content flex=30><md-tabs md-dynamic-height md-border-bottom><md-tab label=Categories><md-content class=md-padding><md-list flex><form ng-submit=ctrl.newCategory() layout=column><md-input-container><label>Name</label><input ng-model=ctrl.category.name type=text></md-input-container></form><md-list-item ng-repeat=\\\"category in ctrl.categories | filter: ctrl.category.name\\\" class=md-2-line><md-icon aria-label={{category.icon}} ng-if=category.icon>{{category.icon}}</md-icon><div class=md-list-item-text><h3>{{ category.name }}</h3><p>0 transactions</p></div><md-button class=\\\"md-secondary md-icon-button\\\" ng-click=ctrl.showCategoryDialog(category) aria-label=edit><md-icon>edit</md-icon></md-button><!-- <md-button class=\\\"md-secondary md-icon-button\\\" ng-click=\\\"null\\\" aria-label=\\\"remove\\\">\\n                <md-icon>remove_circle</md-icon>\\n              </md-button> --></md-list-item></md-list></md-content></md-tab><md-tab label=People><md-content class=md-padding><md-list flex><form ng-submit=ctrl.newPerson() layout=column><md-input-container><label>Name</label><input ng-model=ctrl.person.name type=text></md-input-container></form><md-list-item ng-repeat=\\\"person in ctrl.people | filter: ctrl.person.name\\\" class=md-2-line><md-icon aria-label=face>face</md-icon><div class=md-list-item-text><h3>{{ person.name }}</h3><p>R$ 0,00</p></div><md-button class=\\\"md-secondary md-icon-button\\\" ng-click=ctrl.showPersonDialog(person) aria-label=edit><md-icon>edit</md-icon></md-button></md-list-item></md-list></md-content></md-tab></md-tabs></md-content><md-content flex=70><h2>Transactions</h2></md-content></main>\");\n$templateCache.put(\"app/dashboard/persondialog.tmpl.html\",\"<md-dialog aria-label=\\\"Person name\\\"><md-dialog-content><div class=md-dialog-content><h2 class=md-title>What would you name this person?</h2><p>{{personDialog.currentName}} is the current name.</p><md-input-container><label>Name</label><input ng-model=personDialog.updateName type=text></md-input-container></div></md-dialog-content><md-dialog-actions><md-button ng-click=personDialog.update() class=md-primary>Update</md-button><md-button ng-click=personDialog.remove()>Remove</md-button><md-button ng-click=personDialog.cancel()>Cancel</md-button></md-dialog-actions></md-dialog>\");\n$templateCache.put(\"app/main/main.html\",\"<a href=https://github.com/felipemfp/cathy class=github-corner><svg width=80 height=80 viewBox=\\\"0 0 250 250\\\" style=\\\"fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0\\\"><path d=\\\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\\\"></path><path d=\\\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\\\" fill=currentColor style=\\\"transform-origin: 130px 106px\\\" class=octo-arm></path><path d=\\\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\\\" fill=currentColor class=octo-body></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><main layout=row layout-padding layout-align=\\\"center start\\\"><md-content flex=90 flex-gt-xs=60 flex-md=40 flex-gt-md=25><md-content layout=row layout-align=\\\"center center\\\"><h1 class=heavy>Cathy</h1></md-content><md-tabs md-dynamic-height md-border-bottom><md-tab label=\\\"Sign In\\\"><md-content class=md-padding><form name=signInForm ng-submit=ctrl.signIn()><md-input-container class=md-block><label>Username</label><input name=username ng-model=ctrl.username type=text required><div ng-messages=signInForm.username.$error><div ng-message=required>Username is required.</div></div></md-input-container><md-input-container class=md-block><label>Password</label><input name=password ng-model=ctrl.password type=password required><div ng-messages=signInForm.password.$error><div ng-message=required>Password is required.</div></div></md-input-container><md-button type=submit class=\\\"md-raised md-primary\\\">Sign In</md-button></form></md-content></md-tab><md-tab label=\\\"Sign Up\\\"><md-content class=md-padding><form name=signUpForm ng-submit=ctrl.signUp()><md-input-container class=md-block><label>Name</label><input name=name ng-model=ctrl.register.name type=text required><div ng-messages=signUpForm.name.$error><div ng-message=required>Name is required.</div></div></md-input-container><md-input-container class=md-block><label>Username</label><input name=username ng-model=ctrl.register.username type=text required><div ng-messages=signUpForm.username.$error><div ng-message=required>Username is required.</div></div></md-input-container><md-input-container class=md-block><label>Password</label><input name=password ng-model=ctrl.register.password type=password required><div ng-messages=signUpForm.password.$error><div ng-message=required>Password is required.</div></div></md-input-container><md-button type=submit class=\\\"md-raised md-primary\\\">Sign Up</md-button></form></md-content></md-tab></md-tabs></md-content></main>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<header><md-toolbar layout=row layout-align=\\\"center center\\\"><div class=md-toolbar-tools><a href=#/ >Cathy</a><section flex layout=row layout-align=\\\"end center\\\"><small>Logged as {{globals.currentUser.name}}</small><md-button ng-click=navbar.signOut()>Sign Out</md-button></section></div></md-toolbar></header>\");}]);"],"sourceRoot":"/source/"}