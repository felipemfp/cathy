!function(){"use strict";angular.module("cathy",["ngCookies","ngRoute","ngMaterial","ngMessages","angular-loading-bar","ngAnimate"])}(),function(){"use_strict";function t(t,e,n,a){function o(n,o,i,l){function c(t){a.login(o,i,l)}function u(t){e.error("XHR Failed for register.\n"+angular.toJson(t.data,!0)),l(!1)}return t.post(r+"/api/users/",{name:n,username:o,password:i}).then(c)["catch"](u)}var r=n.apiHost,i={register:o};return i}t.$inject=["$http","$log","catherineAPI","authenticationService"],angular.module("cathy").factory("userService",t)}(),function(){"use strict";function t(){function t(t,e){function n(){e.clearToken(),t.path("/")}var a=this;a.signOut=n}t.$inject=["$location","authenticationService"];var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("cathy").directive("cathyNavbar",t)}(),function(){"use_strict";function t(){var t="http://catherine-api.herokuapp.com",e={apiHost:t};return e}angular.module("cathy").factory("catherineAPI",t)}(),function(){"use_strict";function t(t,e,n,a){function o(a,o,r){function i(t){r(t.data)}function l(t){n.error("XHR Failed for add.\n"+angular.toJson(t.data,!0)),r(t)}return e.post(c+"/api/"+t.globals.currentUser.username+"/categories/",{name:a,icon_id:o}).then(i)["catch"](l)}function r(a,o){function r(t){o(t.data)}function i(t){n.error("XHR Failed for get.\n"+angular.toJson(t.data,!0)),o(t)}return a?e.get(c+"/api/"+t.globals.currentUser.username+"/categories/"+a).then(addComplete)["catch"](addFailed):e.get(c+"/api/"+t.globals.currentUser.username+"/categories/").then(r)["catch"](i)}function i(a,o){function r(t){o(!0)}function i(t){n.error("XHR Failed for remove.\n"+angular.toJson(t.data,!0)),o(t)}return e["delete"](c+"/api/"+t.globals.currentUser.username+"/categories/"+a).then(r)["catch"](i)}function l(a,o,r){function i(t){r(t.data)}function l(t){n.error("XHR Failed for update.\n"+angular.toJson(t.data,!0)),r(t)}return e.put(c+"/api/"+t.globals.currentUser.username+"/categories/"+a,o).then(i)["catch"](l)}var c=a.apiHost,u={add:o,update:l,remove:i,get:r};return u}t.$inject=["$rootScope","$http","$log","catherineAPI"],angular.module("cathy").factory("categoryService",t)}(),function(){"use_strict";function t(t,e,n,a,o,r){function i(n,a,o){function r(t){var e=t.data.token;l(e),o(!0)}function i(t){e.error("XHR Failed for login.\n"+angular.toJson(t.data,!0)),o(!1)}return t.post(s+"/api/login/",{username:n,password:a}).then(r)["catch"](i)}function l(e){var o=u(e);a.globals={currentUser:{name:o.name,username:o.username,token:e}},t.defaults.headers.common.Authorization="Bearer "+e,n.putObject("globals",a.globals)}function c(){a.globals={},t.defaults.headers.common.Authorization="",n.remove("globals")}function u(t){var e=t.split(".")[1],n=e.replace("-","+").replace("_","/");return angular.fromJson(o.atob(n))}var s=r.apiHost,d={login:i,setToken:l,clearToken:c,parseJwt:u};return d}t.$inject=["$http","$log","$cookies","$rootScope","$window","catherineAPI"],angular.module("cathy").factory("authenticationService",t)}(),function(){"use strict";function t(t,e,n,a,o,r){function i(){var t=c.register.name,r=c.register.username,i=c.register.password;o.register(t,r,i,function(t){t===!0?(e.show(e.simple().textContent(a.globals.currentUser.name+" registered and logged.").hideDelay(3e3)),n.path("/dashboard")):e.show(e.simple().textContent("Something is wrong!").hideDelay(3e3))})}function l(){var t=c.username,o=c.password;r.login(t,o,function(t){t===!0?(e.show(e.simple().textContent(a.globals.currentUser.name+" logged.").hideDelay(3e3)),n.path("/dashboard")):e.show(e.simple().textContent("Username and password does not match.").hideDelay(3e3))})}var c=this;c.signUp=i,c.signIn=l}t.$inject=["$log","$mdToast","$location","$rootScope","userService","authenticationService"],angular.module("cathy").controller("MainController",t)}(),function(){"use strict";function t(t,e){function n(){e.clearUser(),t.path("/")}var a=this;a.signOut=n}t.$inject=["$location","authenticationService"],angular.module("cathy").controller("DashboardController",t)}(),function(){"use strict";function t(t,e,n,a,o,r){if(e.globals=a.getObject("globals")||{},e.globals.currentUser){var i=e.globals.currentUser.token,l=r.parseJwt(i);t.log(Math.round((new Date).getTime()/1e3)<=l.exp,angular.toJson(l)),Math.round((new Date).getTime()/1e3)<=l.exp&&(o.defaults.headers.common.Authorization="Bearer "+i)}e.$on("$locationChangeStart",function(t,a,o){var r="/"!=n.path(),i=e.globals.currentUser;r&&!i&&n.path("/")}),t.debug("runBlock end")}t.$inject=["$log","$rootScope","$location","$cookies","$http","authenticationService"],angular.module("cathy").run(t)}(),function(){"use strict";function t(t){t.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"vm"}).when("/dashboard",{templateUrl:"app/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"}).otherwise({redirectTo:"/"})}t.$inject=["$routeProvider"],angular.module("cathy").config(t)}(),function(){"use strict";angular.module("cathy")}(),function(){"use strict";function t(t,e,n){t.debugEnabled(!0),e.theme("default").primaryPalette("purple").accentPalette("green"),n.includeSpinner=!1}t.$inject=["$logProvider","$mdThemingProvider","cfpLoadingBarProvider"],angular.module("cathy").config(t)}(),angular.module("cathy").run(["$templateCache",function(t){t.put("app/dashboard/dashboard.html","<cathy-navbar></cathy-navbar>"),t.put("app/main/main.html",'<md-content><header><md-toolbar layout=row layout-align="center center"><div class=md-toolbar-tools><a href=#>Cathy</a><section flex layout=row layout-align="end center"><md-button href=#>Option #1</md-button><md-button href=#>Option #2</md-button><md-button href=#>Option #3</md-button></section></div></md-toolbar></header></md-content><main layout=row layout-padding layout-align="center start"><md-content flex=50><h1>Cath... wait for it!</h1></md-content><md-content flex=30><md-tabs md-dynamic-height md-border-bottom><md-tab label="Sign Up"><md-content class=md-padding><form ng-submit=vm.signUp() layout=column><md-input-container><label>Name</label><input ng-model=vm.register.name type=text></md-input-container><md-input-container><label>Username</label><input ng-model=vm.register.username type=text></md-input-container><md-input-container><label>Password</label><input ng-model=vm.register.password type=password></md-input-container><md-button type=submit class="md-raised md-primary">Sign Up</md-button></form></md-content></md-tab><md-tab label="Sign In"><md-content class=md-padding><form ng-submit=vm.signIn() layout=column><md-input-container><label>Username</label><input ng-model=vm.username type=text></md-input-container><md-input-container><label>Password</label><input ng-model=vm.password type=password></md-input-container><md-button type=submit class="md-raised md-primary">Sign In</md-button><md-button>Problems?</md-button></form></md-content></md-tab></md-tabs></md-content></main>'),t.put("app/components/navbar/navbar.html",'<header><md-toolbar layout=row layout-align="center center"><div class=md-toolbar-tools><a href=#>Cathy</a><section flex layout=row layout-align="end center"><a href=#>{{globals.currentUser.name}}</a><md-button ng-click=vm.signOut()>Sign Out</md-button></section></div></md-toolbar></header>')}]);
//# sourceMappingURL=../maps/scripts/app-edff5cafd4.js.map
